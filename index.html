<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <!-- Critical viewport meta tag to prevent zooming and ensure proper scaling -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>BP AGENT PORTAL</title>
  <link rel="icon" href="logo.png" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  <link rel="manifest" href="/manifest.json" />
  <!-- The updated CSS is embedded directly below -->
  <style>
    /* ===== Golden Luxury Theme ===== */
    :root {
      --gold-primary: #FFD700;
      --gold-secondary: #D4AF37;
      --gold-accent: #FFC72C;
      --black-bg: #0a0a0a;
      --darker-bg: #050505;
      --text-primary: #ffffff;
      --text-secondary: #e6e6e6;
      --scrollbar-thumb: var(--gold-secondary); /* Custom scrollbar thumb color */
      --scrollbar-track: #1a1a1a; /* Custom scrollbar track color */
    }

    /* Global Reset & Basic Styling */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      -webkit-tap-highlight-color: transparent; /* Removes tap highlight on mobile */
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: var(--black-bg);
      /* Added a subtle radial gradient for more depth */
      background: radial-gradient(circle at top left, var(--darker-bg) 0%, var(--black-bg) 70%);
      color: var(--text-primary);
      min-height: 100vh;
      min-height: -webkit-fill-available; /* For Safari on iOS */
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 1.5rem; /* Increased padding slightly for better spacing */
      position: relative;
      overflow-x: hidden;
      touch-action: manipulation; /* Improves touch responsiveness */
    }

    /* Custom Scrollbar Styling for Webkit Browsers */
    ::-webkit-scrollbar {
      width: 8px; /* Width of the scrollbar */
    }

    ::-webkit-scrollbar-track {
      background: var(--scrollbar-track); /* Background of the scrollbar track */
      border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb {
      background: var(--scrollbar-thumb); /* Color of the scrollbar thumb */
      border-radius: 10px;
      border: 2px solid var(--black-bg); /* Adds a slight border to make it pop */
      transition: background 0.3s ease; /* Smooth transition for hover */
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--gold-primary); /* Brighter gold on hover */
    }

    /* Container with Gold Border & Initial Load Animation */
    .container {
      background: rgba(10, 10, 10, 0.9);
      padding: 1.5rem;
      border-radius: 12px;
      width: 100%;
      max-width: 900px;
      margin: 1rem auto;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(5px); /* Frosted glass effect */
      border: 1px solid var(--gold-primary);
      box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
      transition: transform 0.5s ease-out, opacity 0.5s ease-out; /* Smooth transition for general changes */

      /* Initial Load Animation */
      opacity: 0;
      transform: translateY(20px) scale(0.98);
      animation: fadeInPop 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards; /* More refined easing */
    }

    @keyframes fadeInPop {
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    /* Container Shine Effect */
    .container::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(
        to bottom right,
        rgba(255, 215, 0, 0) 0%,
        rgba(255, 215, 0, 0) 40%,
        rgba(255, 215, 0, 0.1) 50%,
        rgba(255, 215, 0, 0) 60%,
        rgba(255, 215, 0, 0) 100%
      );
      transform: rotate(30deg);
      animation: shine 8s infinite linear;
      pointer-events: none; /* Ensure it doesn't interfere with clicks */
    }

    @keyframes shine {
      0% { transform: rotate(30deg) translate(-10%, -10%); }
      100% { transform: rotate(30deg) translate(10%, 10%); }
    }

    /* Header with Gold Glow */
    .header {
      text-align: center;
      margin-bottom: 1.5rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.8rem;
    }

    .profile-pic:hover {
      transform: scale(1.05);
      box-shadow: 0 0 25px var(--gold-accent); /* Enhanced hover glow */
    }

    .profile-pic {
      width: 80px;
      height: 80px;
      object-fit: cover;
      border-radius: 50%;
      border: 2px solid var(--gold-primary);
      box-shadow: 0 0 15px var(--gold-primary);
      transition: transform 0.3s ease, box-shadow 0.3s ease; /* Added shadow transition */
    }

    .pulse {
      color: var(--gold-primary);
      font-weight: 700;
      font-size: 1.8rem;
      text-shadow: 0 0 10px var(--gold-primary);
      animation: pulse-glow 2s infinite alternate;
      margin: 0.5rem 0;
      letter-spacing: 1px;
    }

    @keyframes pulse-glow {
      from { text-shadow: 0 0 10px var(--gold-primary); }
      to { text-shadow: 0 0 25px var(--gold-accent); }
    }

    .bio {
      font-weight: 300;
      font-size: 0.95rem;
      letter-spacing: 0.05em;
      color: var(--text-secondary);
      max-width: 90%;
    }

    /* Links Grid with Gold Effects */
    .links {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .link-btn {
      background: rgba(255, 215, 0, 0.1);
      border-radius: 10px;
      padding: 0.9rem;
      color: var(--text-primary);
      font-weight: 600;
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 0.8rem;
      border: 1px solid rgba(255, 215, 0, 0.3);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      font-size: 0.95rem;
      outline: none; /* Remove default outline */
      cursor: pointer; /* Indicate clickable element */
    }

    /* Enhanced Focus State for Keyboard Navigation */
    .link-btn:focus-visible {
      outline: 2px solid var(--gold-accent); /* Gold outline on focus */
      outline-offset: 3px; /* Space between element and outline */
      box-shadow: 0 0 0 4px rgba(255, 215, 0, 0.5), 0 5px 15px rgba(255, 215, 0, 0.3); /* Combined shadow */
    }

    /* Link Button Shine Effect on Hover */
    .link-btn::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(
        to bottom right,
        rgba(255, 215, 0, 0) 0%,
        rgba(255, 215, 0, 0) 40%,
        rgba(255, 215, 0, 0.3) 50%,
        rgba(255, 215, 0, 0) 60%,
        rgba(255, 215, 0, 0) 100%
      );
      transform: rotate(30deg);
      transition: all 0.7s ease;
      opacity: 0;
      pointer-events: none; /* Ensure it doesn't interfere with clicks */
    }

    .link-btn:hover::before {
      opacity: 1;
      animation: shine 1.5s infinite linear;
    }

    .link-btn img {
      width: 36px;
      height: 36px;
      object-fit: contain;
      border-radius: 6px;
      filter: drop-shadow(0 0 2px var(--gold-primary));
    }

    .link-btn span {
      flex-grow: 1;
      position: relative;
      z-index: 1;
    }

    .link-btn i {
      color: var(--gold-primary);
      font-size: 1rem;
    }

    .link-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
      border-color: var(--gold-primary);
    }

    /* Footer */
    .footer {
      text-align: center;
      font-size: 0.85rem;
      color: var(--text-secondary);
      border-top: 1px solid rgba(255, 215, 0, 0.2);
      padding-top: 1rem;
      margin-top: 1.5rem; /* Added margin for better separation */
    }

    .signature {
      font-weight: 600;
      color: var(--gold-primary);
    }

    /* Sponsors */
    .sponsor {
      margin-top: 0.75rem;
    }

    .sponsor p {
      margin-bottom: 0.4rem;
      font-weight: 500;
      color: var(--text-secondary);
      font-size: 0.85rem;
    }

    .sponsor-logos {
      display: flex;
      justify-content: center;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .sponsor-logo, .partner-icon {
      height: 35px;
      object-fit: contain;
      filter: drop-shadow(0 0 2px var(--gold-primary));
      transition: all 0.3s ease;
    }

    .sponsor-logo:hover, .partner-icon:hover {
      filter: drop-shadow(0 0 8px var(--gold-accent)); /* Stronger hover glow */
      transform: scale(1.1); /* Slightly more pronounced scale */
    }

    /* Install button */
    .download-btn {
      display: flex; /* Changed from none, likely controlled by JS to show/hide */
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: linear-gradient(135deg, var(--gold-primary), var(--gold-secondary));
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      box-shadow: 0 4px 15px rgba(255, 215, 0, 0.5);
      color: #000;
      font-size: 1.5rem;
      cursor: pointer;
      transition: all 0.3s ease;
      justify-content: center;
      align-items: center;
      z-index: 100;
      /* Initial state for potential JS animation */
      opacity: 0;
      transform: translateY(20px);
    }

    .download-btn.show { /* Class to be added by JavaScript */
      opacity: 1;
      transform: translateY(0);
    }

    .download-btn:hover {
      transform: scale(1.1) rotate(15deg);
      box-shadow: 0 0 25px 5px var(--gold-primary); /* Enhanced hover shadow */
    }

    /* Update Notification */
    .update-notification {
      position: fixed;
      bottom: 80px;
      right: 20px;
      background: rgba(10, 10, 10, 0.95);
      border: 1px solid var(--gold-accent);
      border-radius: 8px;
      padding: 15px;
      width: calc(100% - 40px);
      max-width: 300px;
      box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
      z-index: 100;
      transform: translateY(100px);
      opacity: 0;
      transition: all 0.5s ease-out; /* More consistent easing */
      backdrop-filter: blur(5px);
    }

    .update-notification.show {
      transform: translateY(0);
      opacity: 1;
    }

    .update-notification h3 {
      color: var(--gold-accent);
      margin-bottom: 10px;
      font-size: 1.1rem;
    }

    .update-notification p {
      font-size: 0.9rem;
      margin-bottom: 15px;
    }

    .update-actions {
      display: flex;
      gap: 10px;
    }

    .update-btn {
      flex: 1;
      padding: 8px 12px;
      border-radius: 5px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 0.9rem;
      outline: none; /* Remove default outline */
    }

    .update-btn:focus-visible { /* Enhanced focus state */
      outline: 2px solid var(--gold-accent);
      outline-offset: 2px;
    }

    .update-now {
      background: linear-gradient(135deg, var(--gold-primary), var(--gold-secondary));
      color: #000;
    }

    .update-later {
      background: transparent;
      border: 1px solid var(--gold-primary);
      color: var(--gold-primary);
    }

    .update-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 3px 10px rgba(255, 215, 0, 0.3);
    }

    /* Floating Orbs (Desktop only) */
    .orb {
      display: none; /* Hidden by default */
    }

    /* Styles for the new LLM Agent Assistant section */
    .agent-assistant {
      margin-top: 2rem;
      padding-top: 1.5rem;
      border-top: 1px solid rgba(255, 215, 0, 0.2);
      text-align: center;
    }

    .agent-assistant h2 {
      color: var(--gold-primary);
      font-size: 1.6rem;
      margin-bottom: 1rem;
      text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
    }

    .agent-assistant textarea {
      width: 100%;
      min-height: 80px;
      padding: 0.8rem;
      margin-bottom: 1rem;
      border-radius: 8px;
      border: 1px solid rgba(255, 215, 0, 0.4);
      background: rgba(0, 0, 0, 0.5);
      color: var(--text-primary);
      font-family: 'Poppins', sans-serif;
      font-size: 0.95rem;
      resize: vertical; /* Allow vertical resizing */
      outline: none;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .agent-assistant textarea:focus {
      border-color: var(--gold-accent);
      box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
    }

    .agent-assistant button {
      background: linear-gradient(135deg, var(--gold-primary), var(--gold-secondary));
      color: #000;
      border: none;
      border-radius: 8px;
      padding: 0.8rem 1.5rem;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
      outline: none;
    }

    .agent-assistant button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(255, 215, 0, 0.6);
    }

    .agent-assistant button:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
    }

    .assistant-response {
      margin-top: 1.5rem;
      padding: 1rem;
      background: rgba(255, 215, 0, 0.05);
      border: 1px solid rgba(255, 215, 0, 0.2);
      border-radius: 8px;
      text-align: left;
      font-size: 0.95rem;
      color: var(--text-secondary);
      min-height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow-wrap: break-word; /* Ensure text wraps */
      word-wrap: break-word; /* Ensure text wraps for older browsers */
    }

    .loading-indicator {
        display: none; /* Hidden by default */
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 30px;
        height: 30px;
        border: 4px solid var(--gold-secondary);
        border-top-color: var(--gold-primary);
        border-radius: 50%;
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        0% { transform: translate(-50%, -50%) rotate(0deg); }
        100% { transform: translate(-50%, -50%) rotate(360deg); }
    }


    /* ===== Tablet Styles ===== */
    @media (min-width: 480px) {
      .links {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      }

      .profile-pic {
        width: 90px;
        height: 90px;
      }

      .pulse {
        font-size: 2rem;
      }

      .bio {
        font-size: 1rem;
      }

      .link-btn {
        padding: 1rem;
        font-size: 1rem;
      }

      .agent-assistant h2 {
        font-size: 1.8rem;
      }
    }

    /* ===== Desktop Styles ===== */
    @media (min-width: 768px) {
      .container {
        padding: 2rem 3rem;
      }

      .orb {
        display: block; /* Show orbs on desktop */
        position: absolute;
        border-radius: 50%;
        filter: blur(15px);
        opacity: 0.6; /* Slightly reduced opacity */
        z-index: -1;
        background-color: var(--gold-primary); /* Give orbs a gold color */
        animation: float 12s ease-in-out infinite alternate; /* More dynamic animation */
        box-shadow: 0 0 30px var(--gold-accent); /* Orb glow */
      }

      @keyframes float {
        0% {
          transform: translate(0, 0) scale(1);
          opacity: 0.6;
        }
        25% {
          transform: translate(calc(100vw * 0.05), calc(100vh * 0.03)) scale(1.05);
          opacity: 0.7;
        }
        50% {
          transform: translate(calc(100vw * -0.05), calc(100vh * -0.05)) scale(0.95);
          opacity: 0.5;
        }
        75% {
          transform: translate(calc(100vw * 0.03), calc(100vh * -0.02)) scale(1.03);
          opacity: 0.65;
        }
        100% {
          transform: translate(0, 0) scale(1);
          opacity: 0.6;
        }
      }

      .download-btn {
        width: 56px;
        height: 56px;
        font-size: 1.8rem;
      }

      .update-notification {
        right: 24px;
        bottom: 90px;
      }
    }

    /* ===== Large Desktop Styles ===== */
    @media (min-width: 1024px) {
      .links {
        gap: 1.5rem;
      }

      .link-btn {
        padding: 1rem 1.25rem;
      }
    }
  </style>
</head>
<body>

  <div id="orbs"></div>

  <!-- Update Notification (hidden by default) -->
  <div class="update-notification" id="updateNotification">
    <h3>New Update Available!</h3>
    <p>A new version of the app is available. Update now for the best experience.</p>
    <div class="update-actions">
      <button class="update-btn update-now" id="updateNow">Update Now</button>
      <button class="update-btn update-later" id="updateLater">Later</button>
    </div>
  </div>

  <main class="container" role="main">
    <header class="header">
      <img src="Betting Paradise Logo.png" alt="BP Agent Logo" class="profile-pic" />
      <h1 class="pulse">BP AGENT PORTAL
        <i class="fas fa-crown" style="color: var(--gold-primary); margin-left: 8px;"></i>
      </h1>
      <p class="bio">Premium access links for all partner levels. Click any button below to connect instantly.</p>
    </header>

    <section class="links" aria-label="Agent Links">
      <!-- Your existing links here -->
      <a href="https://ssm.bet555mix.com" class="link-btn" target="_blank" rel="noopener noreferrer"
        onclick="gtag('event', 'click', { event_category: 'Agent Link', event_label: '555Mix Super' })">
        <img src="Betting Paradise Logo PNG White.png" alt="555Mix Logo" />
        <span>555Mix Super</span>
        <i class="fas fa-arrow-right" style="color: var(--gold-primary);"></i>
      </a>

      <a href="https://sm.bet555mix.com" class="link-btn" target="_blank" rel="noopener noreferrer"
        onclick="gtag('event', 'click', { event_category: 'Agent Link', event_label: '555Mix Senior' })">
        <img src="Betting Paradise Logo PNG White.png" alt="555Mix Logo" />
        <span>555Mix Senior</span>
        <i class="fas fa-arrow-right" style="color: var(--gold-primary);"></i>
      </a>

      <!-- Add all your other links here -->
        <a href="https://ms.bet555mix.com" class="link-btn" target="_blank" rel="noopener noreferrer"
          onclick="gtag('event', 'click', { event_category: 'Agent Link', event_label: '555Mix Master' })">
        <img src="Betting Paradise Logo PNG White.png" alt="555Mix Logo" />
        <span>555Mix Master</span>
        <i class="fas fa-arrow-right" style="color: var(--gold-primary);"></i>
      </a>

      <a href="https://ag.bet555mix.com" class="link-btn" target="_blank" rel="noopener noreferrer"
        onclick="gtag('event', 'click', { event_category: 'Agent Link', event_label: '555Mix Agent' })">
        <img src="Betting Paradise Logo PNG White.png" alt="555Mix Logo" />
        <span>555Mix Agent</span>
        <i class="fas fa-arrow-right" style="color: var(--gold-primary);"></i>
      </a>

      <a href="https://ag.sports899.live" class="link-btn" target="_blank" rel="noopener noreferrer"
        onclick="gtag('event', 'click', { event_category: 'Agent Link', event_label: 'Sports899 Agent' })">
        <img src="Betting Paradise Logo PNG White.png" alt="Sports899 Logo" />
        <span>Sports899 Agent</span>
        <i class="fas fa-arrow-right" style="color: var(--gold-primary);"></i>
      </a>

      <a href="https://ag.sportsxzone.com/agent/login" class="link-btn" target="_blank" rel="noopener noreferrer"
        onclick="gtag('event', 'click', { event_category: 'Agent Link', event_label: 'Sports X Zone Agent' })">
        <img src="Betting Paradise Logo PNG White.png" alt="Sports X Zone Logo" />
        <span>Sports X Zone Agent</span>
        <i class="fas fa-arrow-right" style="color: var(--gold-primary);"></i>
      </a>

      <a href="https://ag.ibet789.com" class="link-btn" target="_blank" rel="noopener noreferrer"
        onclick="gtag('event', 'click', { event_category: 'Agent Link', event_label: 'Ibet 789 Agent' })">
        <img src="Betting Paradise Logo PNG White.png" alt="Ibet789 Logo" />
        <span>Ibet 789 Agent</span>
        <i class="fas fa-arrow-right" style="color: var(--gold-primary);"></i>
      </a>

      <a href="https://bt6688.net" class="link-btn" target="_blank" rel="noopener noreferrer"
        onclick="gtag('event', 'click', { event_category: 'Agent Link', event_label: 'Batman Agent' })">
        <img src="Betting Paradise Logo PNG White.png" alt="Batman Logo" />
        <span>Batman Agent</span>
        <i class="fas fa-arrow-right" style="color: var(--gold-primary);"></i>
      </a>

      <a href="https://redbull10x.asia" class="link-btn" target="_blank" rel="noopener noreferrer"
        onclick="gtag('event', 'click', { event_category: 'Agent Link', event_label: 'Redbull 10X Agent' })">
        <img src="Betting Paradise Logo PNG White.png" alt="Redbull Logo" />
        <span>Redbull 10X Agent</span>
        <i class="fas fa-arrow-right" style="color: var(--gold-primary);"></i>
      </a>

      <a href="https://ag.thai6d.net" class="link-btn" target="_blank" rel="noopener noreferrer"
        onclick="gtag('event', 'click', { event_category: 'Agent Link', event_label: 'Thai 6D Agent' })">
        <img src="Betting Paradise Logo PNG White.png" alt="Thai6D Logo" />
        <span>Thai 6D Agent</span>
        <i class="fas fa-arrow-right" style="color: var(--gold-primary);"></i>
      </a>

      <a href="https://1xpartners.com/" class="link-btn" target="_blank" rel="noopener noreferrer"
        onclick="gtag('event', 'click', { event_category: 'Agent Link', event_label: '1xBet Partner' })">
        <img src="Betting Paradise Logo PNG White.png" alt="1xBet Logo" />
        <span>1xBet Partner</span>
        <i class="fas fa-arrow-right" style="color: var(--gold-primary);"></i>
      </a>

    </section>

    <!-- New: Agent Assistant Section -->
    <section class="agent-assistant" aria-label="Agent Assistant powered by AI">
      <h2>✨ Agent Assistant</h2>
      <p style="font-size: 0.9em; color: var(--text-secondary); margin-bottom: 1rem;">အေးဂျင့်တာဝန်များ၊ လောင်းကစားဆိုင်ရာ စည်းမျဉ်းများ သို့မဟုတ် ယေဘူယျစျေးကွက်ဆိုင်ရာ ထိုးထွင်းသိမြင်မှုများအကြောင်း မေးခွန်းများမေးမြန်းနိုင်ပါသည်။ (Ask any question about agent duties, betting terms, or general market insights.)</p>
      <textarea id="agentQuery" placeholder="ဥပမာ။ ဘောလုံးလောင်းကြေးဆိုတာ ဘာလဲ။ အငြင်းပွားမှုတစ်ခုကို ဘယ်လိုကိုင်တွယ်ရမလဲ။ (E.g., What is a moneyline bet? How do I handle a dispute?)" rows="4"></textarea>
      <button id="askAgentBtn">လက်ထောက်ကိုမေးပါ (Ask Assistant)</button>
      <div class="assistant-response" id="assistantResponse">
        <div class="loading-indicator" id="loadingIndicator"></div>
        သင်၏ AI လက်ထောက်က ကူညီရန် အသင့်ရှိနေပါသည်။ (Your AI assistant is ready to help!)
      </div>
    </section>
    <!-- End New Section -->

    <footer class="footer" role="contentinfo">
      <p>&copy; 2025 BP Agent Network | <span class="signature">Dev @hlainghtetaung</span></p>
      <div class="sponsor" aria-label="Sponsors">
        <p>Sponsored by:</p>
        <div class="sponsor-logos">
          <img src="M2P Logo PNG White.png" alt="M2P Sponsor Logo" class="sponsor-logo" />
          <img src="handshake (1).png" alt="Partner Icon" class="partner-icon" />
          <img src="YG Logo PNG White.png" alt="YG Sponsor Logo" class="sponsor-logo" />
        </div>
      </div>
    </footer>
  </main>

  <button id="install-btn" class="download-btn" aria-label="Install App">
    <i class="fas fa-download" aria-hidden="true"></i>
  </button>
      <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-SL6L4D4424"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-SL6L4D4424');
  </script>
  <!-- All JavaScript is now embedded directly below -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
        const installButton = document.getElementById('install-btn');
        const updateNotification = document.getElementById('updateNotification');
        const updateNowButton = document.getElementById('updateNow');
        const updateLaterButton = document.getElementById('updateLater');

        // LLM Assistant Elements
        const agentQueryInput = document.getElementById('agentQuery');
        const askAgentBtn = document.getElementById('askAgentBtn');
        const assistantResponseDiv = document.getElementById('assistantResponse');
        const loadingIndicator = document.getElementById('loadingIndicator');

        let deferredPrompt; // To store the BeforeInstallPromptEvent

        // --- PWA Installation Logic ---
        window.addEventListener('beforeinstallprompt', (e) => {
            // Prevent Chrome 67 and earlier from automatically showing the prompt
            e.preventDefault();
            // Stash the event so it can be triggered later.
            deferredPrompt = e;
            // Update UI to notify the user they can add to home screen
            if (installButton) {
                installButton.style.display = 'flex'; // Show the install button
                // Optionally add a class to trigger an animation or highlight
                setTimeout(() => {
                    installButton.classList.add('show');
                }, 100); // Small delay for CSS transition
            }
        });

        if (installButton) {
            installButton.addEventListener('click', () => {
                if (deferredPrompt) {
                    // Show the prompt
                    deferredPrompt.prompt();
                    // Wait for the user to respond to the prompt
                    deferredPrompt.userChoice.then((choiceResult) => {
                        if (choiceResult.outcome === 'accepted') {
                            console.log('User accepted the A2HS prompt');
                            // Hide the button after installation
                            if (installButton) {
                                installButton.classList.remove('show');
                                installButton.style.display = 'none';
                            }
                        } else {
                            console.log('User dismissed the A2HS prompt');
                        }
                        deferredPrompt = null; // Clear the deferred prompt
                    });
                }
            });
        }

        window.addEventListener('appinstalled', () => {
            console.log('PWA was installed');
            // Hide the install button if it was shown
            if (installButton) {
                installButton.classList.remove('show');
                installButton.style.display = 'none';
            }
        });

        // --- Update Notification Logic (Placeholder - in a real app, this would come from a server check) ---
        // Simulate an update being available after 5 seconds
        // setTimeout(() => {
        //     if (updateNotification) {
        //         updateNotification.classList.add('show');
        //     }
        // }, 5000);

        if (updateNowButton) {
            updateNowButton.addEventListener('click', () => {
                console.log('Update Now clicked');
                // In a real app, this would trigger a service worker update or page reload
                location.reload(true); // Force reload to get new content
            });
        }

        if (updateLaterButton) {
            updateLaterButton.addEventListener('click', () => {
                console.log('Update Later clicked');
                if (updateNotification) {
                    updateNotification.classList.remove('show');
                }
            });
        }

        // --- Floating Orbs Animation (Desktop only) ---
        const orbsContainer = document.getElementById('orbs');
        if (orbsContainer) {
            // Create 5 orbs for visual effect
            for (let i = 0; i < 5; i++) {
                const orb = document.createElement('div');
                orb.classList.add('orb');
                // Randomize initial position and size
                orb.style.width = `${Math.random() * 30 + 40}px`; // 40-70px
                orb.style.height = orb.style.width;
                orb.style.left = `${Math.random() * 100}vw`;
                orb.style.top = `${Math.random() * 100}vh`;
                // Randomize animation delay and duration for a more natural feel
                orb.style.animationDelay = `${Math.random() * -10}s`; // Start at different phases
                orb.style.animationDuration = `${Math.random() * 8 + 10}s`; // 10-18s duration
                orbsContainer.appendChild(orb);
            }
        }


        // --- LLM Agent Assistant Logic ---
        if (askAgentBtn) {
            askAgentBtn.addEventListener('click', async () => {
                const userQuery = agentQueryInput.value.trim();
                if (!userQuery) {
                    assistantResponseDiv.textContent = "ကျေးဇူးပြု၍ လက်ထောက်အတွက် မေးခွန်းတစ်ခုထည့်ပါ။ (Please enter a question for the assistant.)";
                    assistantResponseDiv.style.color = "var(--gold-accent)"; // Highlight message
                    return;
                }

                // Clear previous response and show loading
                assistantResponseDiv.textContent = "";
                loadingIndicator.style.display = 'block';
                askAgentBtn.disabled = true; // Disable button during API call
                assistantResponseDiv.style.color = "var(--text-secondary)"; // Reset color

                try {
                    // Construct the prompt for the LLM
                    // Instruct the LLM to act as a helpful agent assistant for a betting portal,
                    // respond ONLY in Burmese, and politely decline if the query is out of scope.
                    const prompt = `As a helpful agent assistant for a premium betting portal, provide a concise and professional answer to the following question. Respond ONLY in Burmese (Myanmar language). Focus on clarity and directness, avoiding overly technical jargon unless necessary for accuracy. If the question is outside the scope of general agent knowledge or betting terms, politely state in Burmese that you cannot assist with that specific query.

Question: "${userQuery}"

Answer (in Burmese):`;

                    let chatHistory = [];
                    chatHistory.push({ role: "user", parts: [{ text: prompt }] });

                    const payload = { contents: chatHistory };
                    const apiKey = ""; // Canvas will automatically provide the API key
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    const result = await response.json();

                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        assistantResponseDiv.textContent = text;
                    } else {
                        assistantResponseDiv.textContent = "တုံ့ပြန်မှုတစ်ခုကို ထုတ်မပေးနိုင်ပါ။ ကျေးဇူးပြု၍ ထပ်ကြိုးစားပါ။ (Sorry, I couldn't generate a response. Please try again.)";
                        console.error("Gemini API response structure unexpected:", result);
                    }
                } catch (error) {
                    console.error("Error calling Gemini API:", error);
                    assistantResponseDiv.textContent = "လက်ထောက်နှင့် ချိတ်ဆက်ရာတွင် အမှားအယွင်းတစ်ခု ဖြစ်ပွားခဲ့သည်။ ကျေးဇူးပြု၍ နောက်မှ ထပ်ကြိုးစားပါ။ (An error occurred while connecting to the assistant. Please try again later.)";
                    assistantResponseDiv.style.color = "red"; // Indicate error
                } finally {
                    loadingIndicator.style.display = 'none'; // Hide loading
                    askAgentBtn.disabled = false; // Re-enable button
                }
            });
        }
    });
  </script>
</body>
</html>
